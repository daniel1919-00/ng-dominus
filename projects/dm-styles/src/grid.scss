// Based on bootstrap's grid system
// https://getbootstrap.com/docs/4.0/layout/grid/
// Also checkout this very cool guide on flexbox: https://css-tricks.com/snippets/css/a-guide-to-flexbox/
@use 'config';
@use 'utilities';

$col-props: (
    'flex-grow': 1,
    'flex-basis': 0,
    'padding': config.$grid-columns-padding
);

$col-fixed-props: (
    'flex': 0 0 auto,
    'padding': config.$grid-columns-padding
);

@function configure-grid-col($width) {
    @return (
        'flex': 0 0 auto,
        'padding': config.$grid-columns-padding,
        'width': $width
    );
}

@mixin main {
    @include utilities.generate-class('grid', (
        'display': flex,
        'flex-wrap': wrap
    ), false);

    @include utilities.generate-class('col', $col-props, false);
    @include utilities.generate-class('col-fixed', $col-fixed-props, false);

    @each $col, $width in config.$grid-columns {
        @include utilities.generate-class(col-#{$col}, configure-grid-col($width), false);
        @include utilities.generate-responsive-class(col-#{$col}, configure-grid-col($width));
    }
}
