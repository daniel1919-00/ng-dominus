<div
    class="dm-uploader-container"
    [ngClass]="containerClasses"
    (dragover)="onDragOver($event)"
    (dragleave)="onDragLeave($event)"
    (drop)="onFilesDropped($event)"
    (click)="openFilesInput()"
>
    <div class="dm-uploader-info">
        <label class="dm-uploader-info-primary">{{ intl[DmUploaderIntl.NO_FILES_MSG] }}</label>
        <div class="dm-uploader-info-secondary">
            <span *ngIf="allowedExtensions.length" class="dm-uploader-info-secondary-msg">
                {{ intl[DmUploaderIntl.ALLOWED_EXTENSIONS] + ' ' + allowedExtensionsText }}
            </span>
            <span *ngIf="maxImageSizeText" class="dm-uploader-info-secondary-msg">{{ intl[DmUploaderIntl.IMAGE_SIZE_CHECK_TEXT] + ' ' + maxImageSizeText }}</span>
        </div>
    </div>

    <div class="dm-uploader-files">
        <div *ngFor="let uploadedFile of _value">
            <ng-container
                [ngTemplateOutlet]="displayAs === 'list' ? listFile : gridFile"
                [ngTemplateOutletContext]="{file: uploadedFile, isQueuedFile: false}"></ng-container>
        </div>
        <div *ngFor="let queuedFile of filesQueue.entries()">
            <ng-container
                [ngTemplateOutlet]="displayAs === 'list' ? listFile : gridFile"
                [ngTemplateOutletContext]="{file: queuedFile, isQueuedFile: true}"></ng-container>
        </div>
    </div>
</div>
<input
    #fileInput
    class="dm-uploader-file-input"
    type="file"
    [accept]="allowedExtensions.length ? '.' + allowedExtensions.join(',.') : null"
    [multiple]="multiple"
    (change)="onFilesAdded($any($event.target).files)">

<ng-template #listFile let-file="file" let-isQueued="isQueuedFile">
    <div class="dm-uploader-list-file">
        <div class="dm-uploader-file-info">
            <span>{{file.name}}</span>
            <span>{{file.size}}</span>
        </div>
        <div class="dm-uploader-file-actions">

        </div>
    </div>
</ng-template>

<ng-template #gridFile let-file="file" let-isQueued="isQueuedFile">
    <div class="dm-uploader-grid-file">

    </div>
</ng-template>
