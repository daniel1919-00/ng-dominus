<div class="images-container">
    <div class="image-preview">
        <img *ngIf="file.imagePreviewUrl" [ngStyle]="imagePreviewStyles" [src]="file.imagePreviewUrl" alt="">
        <ng-container *ngIf="$any(file).id">
            <div *ngIf="error === ''" class="overlay"></div>
            <mat-progress-bar
                *ngIf="uploadProgress && error === ''"
                class="loader"
                mode="determinate"
                [color]="progressBarColor"
                [value]="uploadProgress"></mat-progress-bar>

            <div *ngIf="error !== ''" class="error-container">
                <span class="error">{{error}}</span>
            </div>
        </ng-container>

        <div class="actions">
            <button *ngIf="allowDeleteAction && $any(file).progress === undefined" mat-mini-fab
                    color="warn"
                    (click)="fileDelete.next(fileIndex)">
                <mat-icon>delete</mat-icon>
            </button>

            <button *ngIf="$any(file).id && error !== ''" mat-mini-fab
                    color="primary"
                    (click)="fileRetry.next($any(file).id)">
                <mat-icon>refresh</mat-icon>
            </button>
        </div>
    </div>
</div>
