<app-component-doc-header title="Dominus uploader" titleLink="https://www.npmjs.com/package/@ng-dominus/dm-uploader">
    <p>Angular material based library that handles file uploads.</p>
</app-component-doc-header>

<mat-card>
    <mat-card-content>
        <mat-tab-group>
            <mat-tab label="Overview">
                <mat-card-content>
                    <app-code-example [code]="dmUploaderCodeExample">
                        <form [formGroup]="form">
                            <h3>Configuration</h3>
                            <section formGroupName="config" class="dm:grid">
                                <mat-form-field class="dm:col-12">
                                    <mat-label>[allowedExtensions]</mat-label>
                                    <dm-tags formControlName="allowedExtensions"></dm-tags>
                                </mat-form-field>

                                <mat-form-field class="dm:col-fixed">
                                    <mat-label>[label]</mat-label>
                                    <input type="text" matInput formControlName="label">
                                </mat-form-field>

                                <mat-form-field class="dm:col-fixed">
                                    <mat-label>[displayAs]</mat-label>
                                    <mat-select formControlName="displayAs">
                                        <mat-option value="list">list</mat-option>
                                        <mat-option value="grid">grid</mat-option>
                                    </mat-select>
                                </mat-form-field>

                                <mat-form-field class="dm:col-fixed">
                                    <mat-label>[multiple]</mat-label>
                                    <mat-select formControlName="multiple">
                                        <mat-option value="1">true</mat-option>
                                        <mat-option value="0">false</mat-option>
                                    </mat-select>
                                </mat-form-field>

                                <mat-form-field class="dm:col-fixed">
                                    <mat-label>[maxFileSize]</mat-label>
                                    <input type="number" matInput formControlName="maxFileSize">
                                </mat-form-field>

                                <mat-form-field class="dm:col-fixed">
                                    <mat-label>[showImagePreview]</mat-label>
                                    <mat-select formControlName="showImagePreview">
                                        <mat-option value="1">true</mat-option>
                                        <mat-option value="0">false</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </section>
                            <br>
                            <h3>Result</h3>
                            <h5>Uploader with mat-form-field</h5>
                            <mat-form-field class="dm:col-12">
                                <mat-label>{{ form.get(['config', 'label'])?.value || '' }}</mat-label>
                                <dm-uploader
                                    formControlName="value"
                                    [multiple]="form.get(['config', 'multiple'])?.value === '1'"
                                    [maxFileSize]="(form.get(['config', 'maxFileSize'])?.value || 5) * 1025 * 1024"
                                    [displayAs]="form.get(['config', 'displayAs'])?.value || 'list'"
                                    [allowedExtensions]="allowedExtensions"
                                    [maxImageSize]="maxImageSize"
                                    [showImagePreview]="form.get(['config', 'showImagePreview'])?.value === '1'"
                                    fileSaveEndpoint="https://localhost/uploader/upload"
                                    fileDeleteEndpoint="https://localhost/uploader/delete"></dm-uploader>
                            </mat-form-field>
                            <br>
                            <h5>Uploader without mat-form-field</h5>
                            <dm-uploader
                                formControlName="value"
                                [multiple]="form.get(['config', 'multiple'])?.value === '1'"
                                [maxFileSize]="(form.get(['config', 'maxFileSize'])?.value || 5) * 1025 * 1024"
                                [displayAs]="form.get(['config', 'displayAs'])?.value || 'list'"
                                [label]="form.get(['config', 'label'])?.value || ''"
                                [allowedExtensions]="allowedExtensions"
                                [maxImageSize]="maxImageSize"
                                [showImagePreview]="form.get(['config', 'showImagePreview'])?.value === '1'"
                                fileSaveEndpoint="https://localhost/uploader/upload"
                                fileDeleteEndpoint="https://localhost/uploader/delete"></dm-uploader>
                        </form>
                        <br><br>
                        <h3>Form Value</h3>
                        <pre>{{ form.get('value')?.value | json }}</pre>
                    </app-code-example>
                </mat-card-content>
            </mat-tab>
            <mat-tab label="Api">
                <mat-card-content>
                    <app-uploader-docs></app-uploader-docs>
                </mat-card-content>
            </mat-tab>
            <mat-tab label="Internationalization">
                <mat-card-content>
                    <p>Internationalization can be achieved by using the <span class="dm:quote">DOMINUS_UPLOADER_INTL</span> injection token,
                        and passing an object of strings using the <span class="dm:quote">DominusUploaderIntl</span> members as keys.</p>
<pre><code class="dm:quote code">&#64;Component({{ '{' }}
    ...
    providers: [{{ '{' }}
        provide: DOMINUS_UPLOADER_INTL,
        useValue: {{ '{' }}
            [DominusUploaderIntl.UNKNOWN_ERROR]: 'Upload Failed'
            ...
        {{ '}' }}
    {{ '}' }}]
{{ '}' }})
export class UploaderDemoComponent {{ '{' }}
    ...
{{ '}' }}</code></pre>
                </mat-card-content>
            </mat-tab>
            <mat-tab label="Styling">
                <mat-card-content>
                    <p>Override colors using the following css variables:</p>
                    <ul>
                        <li><span class="dm:quote">--dm-uploader-label-size</span>: Label font size</li>
                        <li><span class="dm:quote">--dm-uploader-padding</span>: Uploader general padding</li>
                        <li><span class="dm:quote">--dm-uploader-background</span>: Container background color</li>
                        <li><span class="dm:quote">--dm-uploader-text-color</span>: Container text color</li>
                        <li><span class="dm:quote">--dm-uploader-border-color</span>: Container border color</li>
                        <li><span class="dm:quote">--dm-uploader-border-radius</span>: Uploader general border radius</li>
                        <li><span class="dm:quote">--dm-uploader-file-hover-border-color</span>: Container border color on file hover</li>
                        <li><span class="dm:quote">--dm-uploader-file-hover-text-color</span>: Container text color on file hover</li>
                        <li><span class="dm:quote">--dm-uploader-files-container-max-height</span>: Container max height</li>
                        <li><span class="dm:quote">--dm-uploader-file-border-color</span>: File container border color</li>
                        <li><span class="dm:quote">--dm-uploader-file-preview-height</span>: File preview container height</li>
                        <li><span class="dm:quote">--dm-uploader-file-info-primary-font-weight</span>: File container primary text font weight</li>
                        <li><span class="dm:quote">--dm-uploader-file-info-primary-font-size</span>: File container primary text font size</li>
                        <li><span class="dm:quote">--dm-uploader-file-info-secondary-font-size</span>: File container secondary text font size</li>
                        <li><span class="dm:quote">--dm-uploader-file-preview-header-background-color-default</span>: File preview header default background color</li>
                        <li><span class="dm:quote">--dm-uploader-file-preview-header-text-color-default</span>: File preview header default text color</li>
                        <li><span class="dm:quote">--dm-uploader-file-preview-header-overlay-blur</span>: File preview header overlay blur strength</li>
                        <li><span class="dm:quote">--dm-uploader-file-preview-header-background-color-success</span>: File preview header success background color</li>
                        <li><span class="dm:quote">--dm-uploader-file-preview-header-background-color-error</span>: File preview header error background color</li>
                    </ul>
                </mat-card-content>
            </mat-tab>
        </mat-tab-group>
    </mat-card-content>
</mat-card>
