<app-component-doc-header title="Dominus uploader">
    <p>Angular material based library that handles file uploads.</p>
</app-component-doc-header>

<mat-card>
    <mat-card-content>
        <mat-tab-group>
            <mat-tab label="Overview">
                <mat-card-content>
                    <form [formGroup]="form">

                        <h2>Configuration</h2>

                        <section formGroupName="config" class="dm:grid">
                            <mat-form-field class="dm:col-fixed">
                                <mat-label>Type</mat-label>
                                <mat-select formControlName="type">
                                    <mat-option value="file-uploader">file-uploader</mat-option>
                                    <mat-option value="image-uploader">image-uploader</mat-option>
                                </mat-select>
                            </mat-form-field>
                            <mat-checkbox color="primary" formControlName="multiple" class="dm:col-fixed">Multiple</mat-checkbox>
                        </section>

                        <br>
                        <h2>Result</h2>
                        <mat-form-field class="dm:col-12">
                            <mat-label>Uploader</mat-label>
                            <dm-uploader
                                formControlName="value"
                                [multiple]="!!form.get(['config', 'multiple'])?.value"
                                [type]="form.get(['config', 'type'])?.value || 'file-uploader'"
                                [allowedExtensions]="form.get(['config', 'allowedExtensions'])?.value || ['txt', 'pdf']"
                                fileSaveEndpoint="https://localhost/uploader/upload"
                                fileDeleteEndpoint="https://localhost/uploader/delete"></dm-uploader>
                        </mat-form-field>
                    </form>
                    <br><br>
                    Form Value:
                    <pre>{{ form.get('value')?.value | json }}</pre>
                </mat-card-content>
            </mat-tab>
            <mat-tab label="Api">
                <mat-card-content>
                    <app-uploader-docs></app-uploader-docs>
                </mat-card-content>
            </mat-tab>
            <mat-tab label="Internationalization">
                <mat-card-content>
                    <p>Internationalization can be achieved by using the <span class="dm:quote">DOMINUS_UPLOADER_INTL</span> injection token,
                        and passing an object of strings using the <span class="dm:quote">DominusUploaderIntl</span> members as keys.</p>
<pre><code class="dm:quote code">&#64;Component({{ '{' }}
    ...
    providers: [{{ '{' }}
        provide: DOMINUS_UPLOADER_INTL,
        useValue: {{ '{' }}
            [DominusUploaderIntl.UNKNOWN_ERROR]: 'Upload Failed'
            ...
        {{ '}' }}
    {{ '}' }}]
{{ '}' }})
export class UploaderDemoComponent {{ '{' }}
    ...
{{ '}' }}</code></pre>
                </mat-card-content>
            </mat-tab>
            <mat-tab label="Styling">
                <mat-card-content>
                    <p>Override colors using the following css variables:</p>
                    <ul>
                        <li><span class="dm:quote">--dominus-uploader-error-color</span>: Error text color</li>
                        <li><span class="dm:quote">--dominus-uploader-file-hover-border-color</span>: Border color when hovering over with a file</li>
                        <li><span class="dm:quote">--dominus-uploader-image-uploading-overlay</span>: Overlay color applied to images that are
                            uploading
                        </li>
                        <li><span class="dm:quote">--dominus-uploader-image-error-container-background</span>: Background colo applied to the error
                            container
                        </li>
                    </ul>
                </mat-card-content>
            </mat-tab>
        </mat-tab-group>
    </mat-card-content>
</mat-card>
